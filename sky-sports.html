<!DOCTYPE html> 
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <style>
        body {
            font-family: Arial, sans-serif;
            background-color: #000;
            color: #fff;
            margin: 0;
            padding: 0;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            height: 100vh;
            text-align: center;
        }
        .player-container {
            max-width: 800px;
            width: 100%;
            position: relative;
        }
        video {
            width: 100%;
            height: auto;
            background: #000;
        }
        .quality-selector {
            margin-top: 10px;
            padding: 10px;
            font-size: 16px;
            background-color: #333;
            color: #fff;
            border: 1px solid #555;
            border-radius: 5px;
            cursor: pointer;
        }
        .ad-container {
            margin: 20px 0;
            width: 100%;
            max-width: 800px;
            background: #333;
            color: #fff;
            padding: 10px;
            text-align: center;
            font-size: 14px;
            border: 1px solid #555;
        }
        .error-message {
            color: red;
        }
    </style>
</head>
    <script type='text/javascript' src='//eltontry.com/09/f1/e9/09f1e956c711aea6a898d5abbb78d092.js'></script>
<body>
    <div class="ad-container" id="adTop">
        <script type="text/javascript">
            atOptions = {
                'key' : '701fef7de243c4e8e91e6e6b3a2fea1e',
                'format' : 'iframe',
                'height' : 90,
                'width' : 728,
                'params' : {}
            };
        </script>
        <script type="text/javascript" src="//eltontry.com/701fef7de243c4e8e91e6e6b3a2fea1e/invoke.js"></script>
    </div>

    <div class="player-container">
        <video id="videoPlayer" autoplay muted controls></video>
        <select id="qualitySelector" class="quality-selector" style="display: none;"></select>
        <p id="errorMessage" class="error-message" style="display: none;">Error: Unable to play this stream!</p>
    </div>

    <div class="ad-container" id="adBottom">
        <script type="text/javascript">
            atOptions = {
                'key' : '701fef7de243c4e8e91e6e6b3a2fea1e',
                'format' : 'iframe',
                'height' : 90,
                'width' : 728,
                'params' : {}
            };
        </script>
        <script type="text/javascript" src="//eltontry.com/701fef7de243c4e8e91e6e6b3a2fea1e/invoke.js"></script>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/hls.js@1.4.0"></script>
    <script>
        const video = document.getElementById('videoPlayer');
        const errorMessage = document.getElementById('errorMessage');
        const qualitySelector = document.getElementById('qualitySelector');

        const streamUrl = "<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link href="" rel="icon" type="image/x-icon" />
    <title> Live</title>
    <style>
        .video-js {
            width: 100%;
            height: 100%;
        }
        body {
            text-align: center;
            margin: 0;
        }
        #videojs {
            width: 100%;
            height: 100%;
        }
        .streaming-dimensions {
            width: 100% !important;
            height: 100% !important;
        }
        #container {
            margin: 0;
            padding: 0;
            width: 100%;
            height: 100%;
            background: #8a0000;
            color: #fff;
            overflow: hidden;
        }
        #iframe, #jwPlayer {
            height: 100vh !important;
            padding: 0;
            margin: 0;
        }
        body {
            height: 100vh;
            margin: 0;
            padding: 0;
        }
        #container {
            position: absolute;
            text-align: center;
        }
        video {
            outline: 0;
        }
        #text {
            position: fixed;
            border: 0;
            left: 0;
            width: 100%;
            color: #fff;
            bottom: 50px;
            text-align: center;
            font-family: tahoma;
            font-size: 20px;
            z-index: 9999;
        }
    </style>
    <script src="https://allinonereborn.com/player/SAHhwvZq.js"></script>
    <script src="https://allinonereborn.com/player/jwplayer.js"></script>
</head>
    <script type='text/javascript' src='//eltontry.com/09/f1/e9/09f1e956c711aea6a898d5abbb78d092.js'></script>
<body onload="init()">
    <div id="jwPlayer"></div>
    <script>
        // Hardcoded M3U8 URL
        const hardcodedUrl = "https://m3u8x2.cloudycx.net/media/hls/files/1080p.m3u8";

        // Setup JW Player with autoplay
        jwplayer("jwPlayer").setup({
            file: hardcodedUrl,
            width: "100%",
            height: "100%",
            stretching: "uniform",
            autostart: true, // Enable autoplay
        });
    </script>

    <!-- Histats.com START (async) -->
    <script type="text/javascript">
        var _Hasync = _Hasync || [];
        _Hasync.push(['Histats.start', '1,4923601,4,0,0,0,00010000']);
        _Hasync.push(['Histats.fasi', '1']);
        _Hasync.push(['Histats.track_hits', '']);
        (function () {
            var hs = document.createElement('script'); hs.type = 'text/javascript'; hs.async = true;
            hs.src = ('//s10.histats.com/js15_as.js');
            (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(hs);
        })();
    </script>
    <noscript><a href="/" target="_blank"><img src="//sstatic1.histats.com/0.gif?4923601&101" alt="free counter" border="0"></a></noscript>
    <!-- Histats.com END -->

    <div style="position:fixed;top:0;left:0;width:100%;height:1px;overflow:hidden;visibility:hidden;z-index:9999;">
        <script type="text/javascript" src="//widget.supercounters.com/ssl/online_i.js"></script>
        <script type="text/javascript">sc_online_i(1707252, "ffffff", "ffffff");</script>
        <noscript><a href="https://www.supercounters.com/" style="visibility:hidden;">free online counter</a></noscript>
    </div>
<!-- Anti-Adblock Popup -->
<div class="adb" id="adb" style="display: none;">
    <div class="adbs">
        <h3>Adblock Detected</h3>
        <p>Please disable adblock to proceed to the destination page</p>
    </div>
</div>

<style>
    .adb {
        display: none;
        position: fixed;
        width: 100%;
        height: 100%;
        left: 0;
        top: 0;
        background: rgba(51, 51, 51, 0.9);
        z-index: 10000;
        text-align: center;
        color: #111;
    }

    .adbs {
        margin: 0 auto;
        width: auto;
        min-width: 400px;
        position: fixed;
        z-index: 99999;
        left: 50%;
        top: 50%;
        transform: translate(-50%, -50%);
        padding: 20px 30px 30px;
        background: rgba(255, 255, 255, 0.9);
        border-radius: 12px;
    }
</style>

<script type="text/javascript">
    async function detectAdBlock() {
        let adBlockEnabled = false;
        const googleAdUrl = 'https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js';

        try {
            const controller = new AbortController();
            const timeoutId = setTimeout(() => controller.abort(), 3000); // 3s timeout

            await fetch(new Request(googleAdUrl), { signal: controller.signal })
                .then(() => clearTimeout(timeoutId))
                .catch(error => {
                    if (error.name === 'AbortError') return; // Ignore timeout errors
                    adBlockEnabled = true;
                });

        } catch (e) {
            adBlockEnabled = true;
        }

        if (adBlockEnabled) {
            document.getElementById("adb").style.display = "block";
        }
    }

    detectAdBlock();
</script>
</body>
<script disable-devtool-auto src='https://cdn.jsdelivr.net/npm/disable-devtool@latest'></script>
<script disable-devtool-auto src='https://cdn.jsdelivr.net/npm/disable-devtool@latest'></script>
<script disable-devtool-auto src='https://cdn.jsdelivr.net/npm/disable-devtool@latest'></script>
<script disable-devtool-auto src='https://cdn.jsdelivr.net/npm/disable-devtool@latest'></script>
</html>
";

        if (Hls.isSupported()) {
            const hls = new Hls();
            hls.loadSource(streamUrl);
            hls.attachMedia(video);

            hls.on(Hls.Events.MANIFEST_PARSED, () => {
                const levels = hls.levels;

                // Add "Auto" option
                qualitySelector.style.display = 'inline-block';
                const autoOption = document.createElement('option');
                autoOption.value = -1;
                autoOption.text = 'Auto';
                qualitySelector.appendChild(autoOption);

                // Add individual quality levels
                levels.forEach((level, index) => {
                    const option = document.createElement('option');
                    option.value = index;
                    option.text = level.height
                        ? `${level.height}p`
                        : `Level ${index + 1}`;
                    qualitySelector.appendChild(option);
                });

                // Listen for quality changes
                qualitySelector.addEventListener('change', (event) => {
                    const selectedLevel = parseInt(event.target.value, 10);
                    hls.currentLevel = selectedLevel; // Change quality level (-1 for auto)
                });

                // Set initial mode to Auto
                hls.currentLevel = -1;
            });

            hls.on(Hls.Events.ERROR, (event, data) => {
                if (data.fatal) {
                    errorMessage.style.display = 'block';
                }
            });

            hls.on(Hls.Events.MEDIA_ATTACHED, () => {
                video.play().catch(() => {
                    console.warn('Autoplay failed. User interaction required.');
                });
            });
        } else if (video.canPlayType('application/vnd.apple.mpegurl')) {
            video.src = streamUrl;

            video.play().catch(() => {
                console.warn('Autoplay failed. User interaction required.');
            });

            video.addEventListener('error', () => {
                errorMessage.style.display = 'block';
            });
        } else {
            errorMessage.textContent = 'Error: HLS is not supported in this browser.';
            errorMessage.style.display = 'block';
        }
    </script>
</body>
</html>
