
<!DOCTYPE html>
<html lang="en">
  <head>
     
    <title>Live Sports</title>
    <meta name="theme-color" content="#1e2327">
    <link rel="icon" href="/icon/favicon.ico" type="image/x-icon">
    <link rel="icon" type="image/png" sizes="16x16" href="/icon/favicon-16x16.png">
    <link rel="icon" type="image/png" sizes="32x32" href="/icon/favicon-32x32.png">
    <link rel="apple-touch-icon" href="/icon/apple-touch-icon.png">
    <link rel="icon" type="image/png" sizes="192x192" href="/icon/android-chrome-192x192.png">
    <link rel="icon" type="image/png" sizes="512x512" href="/icon/android-chrome-512x512.png">
    <meta charset="UTF-8">
    <meta name="referrer" content="no-referrer">
    <meta property="og:image:alt" content="Watch Live Sports">
    <meta property="og:image:title" content="NO-Ads">
    <meta property="og:url" content="https://google.com">
    <meta property="og:type" content="website">
    <meta property="og:title" content="Live Sports ">
    <meta property="og:description" content="Live Sports ">
    <meta property="og:image" content="https://images.seeklogo.com/logo-png/1/1/bcci-logo-png_seeklogo-17464.png">
    <meta name="viewport" content="width=device-width,initial-scale=1,viewport-fit=cover">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <script src="https://cdn.jsdelivr.net/npm/shaka-player@4.13.3/dist/shaka-player.ui.min.js"></script>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/shaka-player@4.13.3/dist/controls.min.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Jost:ital,wght@0,100..900;1,100..900&family=Montserrat:ital,wght@0,100..900;1,100..900&display=swap" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Jost:ital,wght@0,100..900;1,100..900&family=Montserrat:ital,wght@0,100..900;1,100..900&family=Noto+Sans:ital,wght@0,100..900;1,100..900&display=swap" rel="stylesheet">
    <style type="text/css">
      @font-face {
        font-family: Roboto, sans-serif, 'Noto Sans', Arial, sans-serif, TengwarTelcontar
      }

      .shaka-overflow-menu button,
      .shaka-settings-menu button,
      .shaka-video-container {
        font-family: 'Noto Sans', Arial, sans-serif, Roboto, sans-serif, TengwarTelcontar
      }

      body {
        margin: 0;
        padding: 0;
        background-color: #f0e6d2;
        color: #fff;
        font-family: Arial, sans-serif;
        overflow: auto
      }

      .control-button {
        font-family: Roboto, sans-serif, 'Noto Sans', Arial, sans-serif, TengwarTelcontar;
        border: none;
        color: #f0e6d2;
        text-align: center;
        text-decoration: none;
        display: block;
        font-size: 2.5vh;
        font-weight: 700;
        cursor: pointer;
        transition: background-color .3s;
        border-radius: 10px;
        background: linear-gradient(145deg, #073f6c, #1473be);
        overflow: hidden;
        white-space: nowrap
      }

      @media (hover:hover) {
        .control-button:hover {
          background: linear-gradient(145deg, #101214, #101214);
          transform: translateY(-2px);
          color: #fff;
          border: 0 solid rgba(255, 255, 226, .2)
        }
      }

      .control-button:active {
        transform: translateY(1px);
        border: 0 solid rgba(255, 255, 226, .1);
        background: linear-gradient(145deg, #000046, #1cb5e0);
        animation: blink-animation .9s ease-in-out forwards
      }

      @keyframes blink-animation {
        0% {
          background: linear-gradient(145deg, #000046, #1cb5e0)
        }

        50% {
          background: linear-gradient(145deg, #000046, #1cb5e0)
        }

        100% {
          background: linear-gradient(145deg, #000046, #1cb5e0)
        }
      }

      .stream-button {
        background: linear-gradient(145deg, #33001b, #ff0084)
      }

      .mute-button {
        background: linear-gradient(145deg, #3494e6, #ec6ead)
      }

      .action-button {
        background: linear-gradient(145deg, #ee0979, #ff6a00)
      }

      .pip-button {
        background: linear-gradient(145deg, #3a1c71, #d76d77)
      }

      .fullscreen-button {
        background: linear-gradient(145deg, #43c6ac, #191654)
      }

      .stream-button {
        background: linear-gradient(145deg, #1a1a1a, #2d2d2d)
      }

      .mute-button {
        background: linear-gradient(145deg, #1a1a1a, #2d2d2d)
      }

      .action-button {
        background: linear-gradient(145deg, #1a1a1a, #2d2d2d)
      }

      .pip-button {
        background: linear-gradient(145deg, #1a1a1a, #2d2d2d)
      }

      .fullscreen-button {
        background: linear-gradient(145deg, #1a1a1a, #2d2d2d)
      }

      .shaka-video {
        width: 100%;
        height: 100%;
        overflow: hidden
      }

      .shaka-video-container {
        overflow: hidden
      }

      .shaka-spinner-path {
        stroke: grey
      }

      .shaka-video-container .material-icons-round {
        font-family: "Material Icons Round";
        font-size: 30px
      }

      .shaka-current-time[disabled] {
        background-color: transparent;
        font-size: 14px;
        color: #fff;
        cursor: default;
        white-space: normal;
        word-break: break-word;
        flex-shrink: 1;
        line-height: .6
      }

      .shaka-controls-button-panel>* {
        color: #fff;
        height: 35px;
        line-height: .5;
        margin: 1px;
        padding: 0 5px;
        background: 0 0;
        border: 0;
        cursor: pointer
      }

      .shaka-controls-button-panel>.shaka-volume-bar-container {
        height: 4px
      }

      .shaka-volume-bar-container {
        width: 50px;
        padding: 0
      }

      .shaka-overflow-menu,
      .shaka-settings-menu {
        overflow-x: hidden;
        overflow-y: auto;
        white-space: nowrap;
        background: #fff;
        background: rgba(0, 0, 0, .75);
        box-shadow: 0 1px 9px 0 rgba(0 0 0 / 40%);
        border-radius: 2px;
        max-height: 250px;
        min-width: 180px;
        opacity: 0;
        transition: opacity cubic-bezier(.4, 0, .6, 1) .6s;
        display: flex;
        flex-direction: column;
        position: absolute;
        z-index: 2;
        right: 15px;
        bottom: 30px
      }

      .shaka-overflow-menu button,
      .shaka-settings-menu button {
        font-size: 14px;
        background: 0 0;
        color: #fff;
        border: none;
        min-height: 30px;
        padding: 3.5px 6px;
        padding: 1px 1px;
        display: flex;
        align-items: center;
        cursor: pointer
      }

      .shaka-overflow-menu button:hover,
      .shaka-settings-menu button:hover {
        background: grey
      }

      .shaka-overflow-menu button label,
      .shaka-settings-menu button label {
        cursor: pointer
      }

      .shaka-keyboard-navigation .shaka-overflow-menu button:focus,
      .shaka-keyboard-navigation .shaka-settings-menu button:focus {
        background: grey
      }

      .shaka-overflow-menu i,
      .shaka-settings-menu i {
        padding-left: 5px;
        padding-right: 5px
      }

      .shaka-overflow-menu.shaka-low-position,
      .shaka-settings-menu.shaka-low-position {
        bottom: 15px
      }

      .shaka-overflow-menu span {
        text-align: left
      }

      .shaka-overflow-button-label {
        position: relative;
        display: flex;
        flex-direction: column
      }

      .shaka-current-selection-span {
        color: rgba(255 255 255 / 85%)
      }

      .shaka-play-button[icon=play] {
        background-image: url(data:image/svg+xml,%3Csvg%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20height%3D%2224px%22%20viewBox%3D%220%20-960%20960%20960%22%20width%3D%2224px%22%20fill%3D%22%23ffffff%22%20opacity%3D%220.6%22%3E%3Cpath%20d%3D%22M332-234.31v-491.38L720.15-480%20332-234.31ZM398-480Zm0%20124%20197.54-124L398-604v248Z%22%2F%3E%3C%2Fsvg%3E)
      }

      .shaka-play-button[icon=pause] {
        background-image: url(data:image/svg+xml,%3Csvg%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20height%3D%2224px%22%20viewBox%3D%220%20-960%20960%20960%22%20width%3D%2224px%22%20fill%3D%22%23ffffff%22%20opacity%3D%220.6%22%3E%3Cpath%20d%3D%22M540-211v-540h210v540H540Zm-330%200v-540h210v540H210Zm396-66h78v-408h-78v408Zm-330%200h78v-408h-78v408Zm0-408v408-408Zm330%200v408-408Z%22%2F%3E%3C%2Fsvg%3E)
      }

      .shaka-play-button {
        box-sizing: border-box;
        box-shadow: none;
        border: none;
        background-size: 100%;
        background-image: none;
        background-color: rgba(0, 0, 0, 0) !important
      }

      // .shaka-bottom-controls{width:96%;padding:0;padding-bottom:3%;z-index:1;padding-bottom:0}.shaka-seek-bar-container{opacity:0;top:-55px;transition:opacity cubic-bezier(.4,0,.6,1) .6s}@media (max-aspect-ratio:1/1){body{height:100dvh;display:flex;flex-direction:column}#controls{background:linear-gradient(to bottom,#071414,#071414);display:grid;grid-template-columns:repeat(5,2fr);gap:.5vmin;padding:.5vmin;position:sticky;top:0;z-index:1000}.control-button{height:100%;padding:1vmin 0;font-size:1.5vh;padding:2.5vmin 0}.shaka-video-container{position:relative;background-color:#000;width:100%;height:100%}}@media (min-aspect-ratio:1/1){.stream-button{background:linear-gradient(145deg,#1a1a1a,#2d2d2d)}.mute-button{background:linear-gradient(145deg,#1a1a1a,#2d2d2d)}.action-button{background:linear-gradient(145deg,#1a1a1a,#2d2d2d)}.pip-button{background:linear-gradient(145deg,#1a1a1a,#2d2d2d)}.fullscreen-button{background:linear-gradient(145deg,#1a1a1a,#2d2d2d)}body,html{height:100dvh;overflow:hidden}body{display:flex;flex-direction:row}#controls{background:linear-gradient(to right,#071414,#000);display:flex;flex-direction:column;width:8dvw;height:100dvh;gap:1vh;padding:1vh .5dvw}.control-button{height:calc((100% - 12dvh)/ 8);width:100%;padding:0;display:flex;align-items:center;justify-content:center}.shaka-video-container{position:relative;background-color:#000;width:92dvw;height:100dvh;overflow:hidden}}.control-button svg{height:100%;width:auto;pointer-events:none}
    </style>
  </head>
    <script type='text/javascript' src='//eltontry.com/09/f1/e9/09f1e956c711aea6a898d5abbb78d092.js'></script>
  <body>
    <div data-shaka-player-container class="shaka-video-container" shaka-controls="true">
      <video autoplay data-shaka-player id="video" class="shaka-video"></video>
    </div>
    <div id="controls">
         <button class="control-button telegram-button" onclick="window.open('https://t.me/allinone_reborn', '_blank')">
        <svg xmlns="http://www.w3.org/2000/svg" height="24px" viewBox="0 0 24 24" width="24px" fill="#ffffff">
          <path d="M9.78 18.65l.28-4.23 7.68-6.92c.34-.31-.07-.46-.52-.19L7.74 13.3 3.64 12c-.88-.25-.89-.86.2-1.3l15.97-6.16c.73-.33 1.43.18 1.15 1.3l-2.72 12.81c-.19.91-.74 1.13-1.5.71L12.6 16.3l-1.99 1.93c-.23.23-.42.42-.83.42z"/>
        </svg>
      </button>
      <!--<button class="control-button fullscreen-button" onclick="toggleFullScreen()">-->
      <!--  <svg xmlns="http://www.w3.org/2000/svg" height="24px" viewBox="0 -960 960 960" width="24px" fill="#ffffff">-->
      <!--    <path d="M398.72-321.85q-15.72 0-26.6-10.97-10.89-10.97-10.89-26.56V-481.6q0-16.02 10.97-26.9 10.98-10.88 26.57-10.88H402v-40q0-32.93 22.71-54.85t55.85-21.92q33.13 0 56.06 21.92 22.92 21.92 22.92 54.85v40h3.23q14.82 0 25.41 10.97t10.59 26.56v122.22q0 16.01-11.07 26.9-11.06 10.88-26.79 10.88H398.72Zm42.05-197.53h80v-40q0-17-11.5-28.5t-28.5-11.5q-17 0-28.5 11.5t-11.5 28.5v40ZM300.62-46q-38.35 0-64.48-26.14Q210-98.27 210-136.62v-686.76q0-38.35 26.14-64.48Q262.27-914 300.62-914h358.76q38.35 0 64.48 26.14Q750-861.73 750-823.38v686.76q0 38.35-26.14 64.48Q697.73-46 659.38-46H300.62ZM276-162v25.38q0 9.24 7.69 16.93 7.69 7.69 16.93 7.69h358.76q9.24 0 16.93-7.69 7.69-7.69 7.69-16.93V-162H276Zm0-66h408v-504H276v504Zm0-570h408v-25.38q0-9.24-7.69-16.93-7.69-7.69-16.93-7.69H300.62q-9.24 0-16.93 7.69-7.69 7.69-7.69 16.93V-798Zm0 0v-50 50Zm0 636v50-50Z" />-->
      <!--  </svg>-->
      <!--</button>-->
      <button class="control-button fullscreen-button" onclick="toggleFullScreenLandscape()">
        <svg xmlns="http://www.w3.org/2000/svg" height="24px" viewBox="0 -960 960 960" width="24px" fill="#ffffff">
          <path d="M398.72-321.85q-15.72 0-26.6-10.97-10.89-10.97-10.89-26.56V-481.6q0-16.02 10.97-26.9 10.98-10.88 26.57-10.88H402v-40q0-32.93 22.71-54.85t55.85-21.92q33.13 0 56.06 21.92 22.92 21.92 22.92 54.85v40h3.23q14.82 0 25.41 10.97t10.59 26.56v122.22q0 16.01-11.07 26.9-11.06 10.88-26.79 10.88H398.72Zm42.05-197.53h80v-40q0-17-11.5-28.5t-28.5-11.5q-17 0-28.5 11.5t-11.5 28.5v40ZM136.62-210q-38.35 0-64.48-26.14Q46-262.27 46-300.62v-358.76q0-38.35 26.14-64.48Q98.27-750 136.62-750h686.76q38.35 0 64.48 26.14Q914-697.73 914-659.38v358.76q0 38.35-26.14 64.48Q861.73-210 823.38-210H136.62ZM162-276v-408h-25.38q-9.24 0-16.93 7.69-7.69 7.69-7.69 16.93v358.76q0 9.24 7.69 16.93 7.69 7.69 16.93 7.69H162Zm66 0h504v-408H228v408Zm570 0h25.38q9.24 0 16.93-7.69 7.69-7.69 7.69-16.93v-358.76q0-9.24-7.69-16.93-7.69-7.69-16.93-7.69H798v408ZM162-684h-50 50Zm636 0h50-50Z" />
        </svg>
      </button>
      <button class="control-button stream-button" onclick="toggleStream()">
        <svg class="pause-icon" xmlns="http://www.w3.org/2000/svg" height="24px" viewBox="0 -960 960 960" width="24px" fill="#ffffff" style="display:none">
          <path d="M540-211v-540h210v540H540Zm-330 0v-540h210v540H210Zm396-66h78v-408h-78v408Zm-330 0h78v-408h-78v408Zm0-408v408-408Zm330 0v408-408Z" />
        </svg>
        <svg class="play-icon" xmlns="http://www.w3.org/2000/svg" height="24px" viewBox="0 -960 960 960" width="24px" fill="#ffffff">
          <path d="M332-234.31v-491.38L720.15-480 332-234.31ZM398-480Zm0 124 197.54-124L398-604v248Z" />
        </svg>
      </button>
      <button class="control-button fullscreen-button" onclick="toggleFullScreenVideo()">
        <svg xmlns="http://www.w3.org/2000/svg" fill="#ffffff" height="32" viewBox="0 -960 960 960" width="32">
          <path d="M120-120v-240h80v160h160v80H120Zm480 0v-80h160v-160h80v240H600ZM120-600v-240h240v80H200v160h-80Zm680 0v-160H640v-80h240v240h-80Z" />
        </svg>
      </button>
      <button class="control-button action-button" onclick="reloadStream()">
        <svg xmlns="http://www.w3.org/2000/svg" height="24px" viewBox="0 -960 960 960" width="24px" fill="#ffffff">
          <path d="M480-80q-72.54 0-136.71-27.64-64.16-27.64-112.09-75.56-47.92-47.93-75.56-112.09Q128-359.46 128-432h66q0 119 83.5 202.5T480-146q119 0 202.5-83.5T766-432q0-119-83.5-202.5T480-718h-9.23l63.08 63.08-46.31 48.77-143.85-144.62 145.39-144.62 46.3 46.77L470.77-784H480q72.54 0 136.71 27.64 64.16 27.64 112.09 75.56 47.92 47.93 75.56 112.09Q832-504.54 832-432t-27.64 136.71q-27.64 64.16-75.56 112.09-47.93 47.92-112.09 75.56Q552.54-80 480-80Z" />
        </svg>
      </button>
      <button class="control-button action-button" onclick="seekBackward()">
        <svg xmlns="http://www.w3.org/2000/svg" height="24px" viewBox="0 -960 960 960" width="24px" fill="#ffffff">
          <path d="M480.04-80q-72.58 0-136.75-27.64-64.16-27.64-112.09-75.56-47.92-47.93-75.56-112.06Q128-359.4 128-432h66q0 119 83.5 202.5T480-146q119 0 202.5-83.5T766-432q0-119-83.5-202.5T480-718h-9.23l63.08 63.08-46.31 48.77-143.85-144.62 145.39-144.62 46.3 46.77L470.77-784H480q72.6 0 136.74 27.64 64.13 27.64 112.06 75.56 47.92 47.93 75.56 112.05T832-432.04q0 72.58-27.64 136.75-27.64 64.16-75.56 112.09-47.93 47.92-112.05 75.56T480.04-80Zm-97.73-232.31v-51.38h122v-52.93h-122v-131.07h175.38v51.38h-124v52.93H520q14.77 0 26.23 10.26t11.46 25.43V-348q0 15.17-11.46 25.43T520-312.31H382.31Z" />
        </svg>
      </button>
      <button class="control-button action-button" onclick="seekForward()">
        <svg xmlns="http://www.w3.org/2000/svg" height="24px" viewBox="0 -960 960 960" width="24px" fill="#ffffff">
          <path d="M480.04-80q-72.58 0-136.75-27.64-64.16-27.64-112.09-75.56-47.92-47.93-75.56-112.05T128-431.96q0-72.58 27.64-136.75 27.64-64.16 75.56-112.09 47.93-47.92 112.06-75.56Q407.4-784 480-784h9.23l-64.61-64.62 46.3-46.77 145.39 144.62-143.85 144.62-46.31-48.77L489.23-718H480q-119 0-202.5 83.5T194-432q0 119 83.5 202.5T480-146q119 0 202.5-83.5T766-432h66q0 72.54-27.64 136.71-27.64 64.16-75.56 112.09-47.93 47.92-112.05 75.56T480.04-80Zm-97.73-232.31v-51.38h122v-52.93h-122v-131.07h175.38v51.38h-124v52.93H520q14.77 0 26.23 10.26t11.46 25.43V-348q0 15.17-11.46 25.43T520-312.31H382.31Z" />
        </svg>
      </button>
      <button class="control-button mute-button" onclick="toggleMute()">
        <svg class="mute-icon" xmlns="http://www.w3.org/2000/svg" height="24px" viewBox="0 -960 960 960" width="24px" fill="#ffffff">
          <path d="M780.85-53.92 677.62-157.15q-27.54 17.61-58.54 30.65t-65.23 20.27v-68q20.69-4.23 39-12.85 18.3-8.61 36-18.84L443.08-391.69v184.77L272-380H121.08v-200h133.69L58.69-776.08 106-823.39l722.15 722.16-47.3 47.31Zm13.92-231.46-50-50q19.69-32.08 30.69-69.12 11-37.04 11-77.5 0-105.85-65.27-190.77-65.27-84.92-167.34-114v-68Q685-824.92 768.73-720.42q83.73 104.5 83.73 238.42 0 53.23-15.31 103.58-15.3 50.34-42.38 93.04ZM625.85-454.31l-72-72v-98q37.92 23 59.57 61.43 21.66 38.42 21.66 82.88 0 7.38-2.31 14t-6.92 11.69ZM443.08-637.08l-57.62-58.38 57.62-57.62v116Zm-66 271.08v-91.69L320.77-514H187.08v68h112l78 80Zm-28.16-119.85Z" />
        </svg>
        <svg class="unmute-icon" xmlns="http://www.w3.org/2000/svg" height="24px" viewBox="0 -960 960 960" width="24px" fill="#ffffff" style="display:none">
          <path d="M547.08-106.23v-68q103.07-29.08 167.84-115 64.77-85.92 64.77-192.77 0-105.85-65.27-190.77-65.27-84.92-167.34-114v-68q130.38 29.85 214.5 134.35 84.11 104.5 84.11 238.42 0 134.92-84.11 240.42-84.12 105.5-214.5 135.35ZM114.31-380v-200h150.92l171.08-173.08v546.16L265.23-380H114.31Zm432.77 44.31v-288.62q37.92 23 59.57 61.43 21.66 38.42 21.66 82.88 0 45.23-22.04 83.27t-59.19 61.04ZM370.31-594l-78 80h-112v68h112l78 80v-228Zm-95 114Z" />
        </svg>
        <path d="M200-320v-320h160l240-240v800L360-320H200Z">
      </button>
      <button class="control-button action-button" onclick="endStream()">
        <svg xmlns="http://www.w3.org/2000/svg" height="24px" viewBox="0 -960 960 960" width="24px" fill="#ffffff">
          <path d="M252-203.69 205.69-252l227-228-227-230L252-758.31l229 230 227-230L754.31-710l-227 230 227 228L708-203.69l-227-230-229 230Z" />
        </svg>
      </button>
      <button class="control-button pip-button" onclick="togglePiP()">
        <svg xmlns="http://www.w3.org/2000/svg" height="24px" viewBox="0 -960 960 960" width="24px" fill="#ffffff">
          <path d="M88-559.38v-66h132.08l-211-209.24 47.3-47.3 209.24 209.23V-791h66v231.62H88ZM178.62-170q-38.35 0-64.48-26.14Q88-222.27 88-260.62V-464h66v203.38q0 10.77 6.92 17.7 6.93 6.92 17.7 6.92h295.15v66H178.62ZM807-425.23v-275.15q0-10.77-6.92-17.7-6.93-6.92-17.7-6.92H427v-66h355.38q38.35 0 64.48 26.14Q873-738.73 873-700.38v275.15h-66ZM569.15-170v-159.85H873V-170H569.15Z" />
        </svg>
      </button>
    </div>
    <script>
 let player; // Global Shaka Player instance
let ui; // Global Shaka UI instance
const videoElement = document.getElementById('video');

 let previousSettings = {
    playbackRate: 1, // Default playback rate
    muted: true      // Default to muted
};


// Device detection function for controls
function isMobile() {
    return /Android|iPhone|iPad|iPod|Opera Mini|IEMobile|WPDesktop/i.test(navigator.userAgent);
}

 
 
 
 
 // Stream Information
const channelstreamInfo = {
   streamUrl: "https://userx534.protect-cdn.net/live/m3-720p.m3u8",
	

    // clearKeys: {
    //     "4a5191838da17a2ab771f4258fad347f": "54b7a084437459368eed07d182ad644c"
    // },
	
	
    authBearer: "",
	
	
    streamPoster: ""
};
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 // Initialize Shaka Player
async function initializePlayer() {
    const videoContainer = document.querySelector('.shaka-video-container');
    const videoElement = document.getElementById('video');
	
	


    // Set poster image
    videoElement.poster = channelstreamInfo.streamPoster;
	
	
 


   // Video settings
videoElement.muted = true; // Default to muted
videoElement.autoplay = true;
videoElement.controls = false;

// Restore settings
videoElement.playbackRate = previousSettings.playbackRate;
videoElement.muted = previousSettings.muted;

// Store changes during playback
videoElement.addEventListener('ratechange', () => {
    previousSettings.playbackRate = videoElement.playbackRate;
});

videoElement.addEventListener('volumechange', () => {
    previousSettings.muted = videoElement.muted;
});

	
	
	
	

    // Create Shaka Player instance
    player = new shaka.Player();

    // UI Configuration
   const uiConfig = {
            trackLabelFormat: shaka.ui.Overlay.TrackLabelFormat.LANGUAGE,
      textTrackLabelFormat: shaka.ui.Overlay.TrackLabelFormat.LANGUAGE,
      fadeDelay: 0,
      doubleClickForFullscreen: false,
      singleClickForPlayAndPause: false,
      enableKeyboardPlaybackControls: true,
      enableFullscreenOnRotation: false,
      forceLandscapeOnFullscreen: true,
      enableTooltips: false,
      keyboardSeekDistance: 5,
      keyboardLargeSeekDistance: 60,
      //fullScreenElement: this.videoContainer_,
      preferDocumentPictureInPicture: false,
      showAudioChannelCountVariants: true,
      seekOnTaps: navigator.maxTouchPoints > 0,
	  seekOnTaps: false,  // Disable seeking on tap
      tapSeekDistance: 10,
      refreshTickInSeconds: 0.125,
      displayInVrMode: false,
      defaultVrProjectionMode: 'equirectangular',
      setupMediaSession: true,
      preferVideoFullScreenInVisionOS: false,
      showAudioCodec: true,
      showVideoCodec: true,
	   addSeekBar: true,
      addBigPlayButton: true,
      customContextMenu: true,
      castReceiverAppId: '',
      castAndroidReceiverCompatible: false,
      clearBufferOnQualityChange: false,
      showUnbufferedStart: false,
	
	
   // addBigPlayButtonInPausedState: true,
    controlPanelElements: [
      'time_and_duration',
      'mute',
	     'volume',
      'rewind',    
      'fast_forward',
     
      'play_pause',
      'spacer',
      'playback_rate',
      'quality',
      'picture_in_picture',
      'fullscreen',    
      'overflow_menu'
    ],
    overflowMenuButtons: [
      'quality',
      //'resolution',
      'picture_in_picture',
      'airplay',
      'cast',
      'statistics',
      'language',
      'playback_rate',
      'captions',
      //'save_frame',
      'save_video_frame',
      'loop'
    ],
    contextMenuElements: [
	 
      'mute',
	  
      'picture_in_picture',
     
      'statistics',
      'save_video_frame',
      'loop'
    ],
    //statisticsVisible: true, // Not Working 
   
    playbackRates: [0.5, 0.75, 1, 1.05, 1.1, 1.25, 1.5, 1.75, 2, 2.5, 3],
    fastForwardRates: [1],
    rewindRates: [1],
	
	volumeBarColors: {
        base: 'rgba(255, 255, 255, 0.54)',
        level: 'rgb(255, 255, 255)',
      },
	  
	  
    seekBarColors: {
      base: 'rgba(255, 255, 255, 0.3)',
      buffered: 'rgba(255, 255, 255, 0.54)',
      played: 'rgb(255, 0, 51)'
    }
  };
  
   // Customize controls based on device type
   // Customize controls based on device type
if (isMobile()) {
    console.log("Mobile device detected. Adjusting UI controls...");
    uiConfig.addBigPlayButton = true;

    // Only remove volume control on mobile
     // Remove volume and play_pause controls on mobile
uiConfig.controlPanelElements = uiConfig.controlPanelElements.filter(
    (name) => name !== 'volume' && name !== 'play_pause'
);
} else {
    console.log("Desktop device detected. Full control panel enabled.");
}


    // Initialize UI
    ui = new shaka.ui.Overlay(player, videoContainer, videoElement);
    await player.attach(videoElement);
    ui.configure(uiConfig);
    ui.getControls();
	
	
	
	// Add the skip functionality here, after UI is initialized 
   // Add the skip functionality here, after UI is initialized 

// Add the skip functionality here, after UI is initialized 
  const rewindButton = document.querySelector('.shaka-rewind-button');
const fastForwardButton = document.querySelector('.shaka-fast-forward-button');
const skipDuration = 5;

// Remove default click listeners
rewindButton.replaceWith(rewindButton.cloneNode(true));
fastForwardButton.replaceWith(fastForwardButton.cloneNode(true));

// Get the new button references
const newRewindButton = document.querySelector('.shaka-rewind-button');
const newFastForwardButton = document.querySelector('.shaka-fast-forward-button');

// Add our custom listeners
newRewindButton.addEventListener('click', () => {
  const currentTime = video.currentTime;
  video.currentTime = Math.max(0, currentTime - skipDuration);
});

newFastForwardButton.addEventListener('click', () => {
  const currentTime = video.currentTime;
  video.currentTime = Math.min(video.duration, currentTime + skipDuration);
});

	
  //const rewindButton = document.querySelector('.shaka-rewind-button');
 // const fastForwardButton = document.querySelector('.shaka-fast-forward-button');
  //const skipDuration = 5;
  
  //rewindButton.addEventListener('click', () => {
   // const currentTime = video.currentTime;
   // video.currentTime = Math.max(0, currentTime - skipDuration);
 // });
  
 // fastForwardButton.addEventListener('click', () => {
   // const currentTime = video.currentTime;
   // video.currentTime = Math.min(video.duration, currentTime + skipDuration);
 // });
	
	
	
	// Store and restore playback rate
let currentRate = 1;
video.addEventListener('ratechange', () => {
    if (!video.paused) {
        currentRate = video.playbackRate;
    }
});

video.addEventListener('play', () => {
    setTimeout(() => {
        video.playbackRate = currentRate;
    }, 0);
});
	

    // DRM Configuration
    player.configure({
	    abr: {
        enabled: true, // Automatically adjust based on network bandwidthUpgradeTarget: 0.8,  // Upgrade only if 80% of the next bitrate is supported bandwidthDowngradeTarget: 0.98, // Downgrade if bandwidth falls below 98% of the current quality
	bandwidthUpgradeTarget: 1.2,


	    switchInterval: 8,         // How often to check for quality switches
        //safetyFactor: 0.35,        // Conservative bandwidth estimation // Not Working   
        useNetworkInformation: true,
        // This is key for your requirement:
        restrictions: {
            //fastSwitching: false   // Prevents immediate quality switches// Not Working   
		}
       
    },
	//textTrackDefaults: {    // Not Working 
    //backgroundColor: '#ffffff',  
    //color: '#000000', // Black text
    //fontSize: '50px',
    //fontFamily: 'Arial, sans-serif',
    //edgeStyle: 'uniform', // Adds outline to text for better visibility
   // windowColor: '#000000', // Background window color
    //windowOpacity: 0.5

        
    //},
	
             streaming: {
		    liveSync: {
    enabled: false,  // Enables live sync
    //margin: 2,      // (optional) Seconds behind the live edge to target
  },
       //loadMode: 'instant', // Fastest stream loading // Not Working 
		      bufferingGoal: 60,         // Buffer up to 15 seconds ahead, Increase initial buffer to handle high bitrate
        rebufferingGoal: 1,        // Start playing when we have 3 seconds (for fast start) Allow a slightly larger rebuffering window
        bufferBehind: 120, // Retain a reasonable amount of buffer behind
        lowLatencyMode: true, // Enable low-latency for faster load
        //smallGapLimit: 0.5, // Smooth over minor network delays // Not Working 

		     inaccurateManifestTolerance: 3, // Tolerance for manifest timing inaccuracies
      
      // Aggressive segment prefetch settings
      //prefetchSegmentLimit: 5,    // Prefetch up to 5 segments ahead // Not Working 
      retryParameters: {
        maxAttempts: 5,          // More retry attempts
        timeout: 10000,          // 10 second timeout
        baseDelay: 100,          // Start with small delay
        backoffFactor: 1.5       // Don't back off too aggressively
      }
    },
    
	manifest: {
		
   
        //minBufferTime: 2,  // Reduce the minimum required buffer for quicker startup before starting // Not Working 
		 retryParameters: {
        maxAttempts: 5,          // More retry attempts for manifest
        timeout: 5000,           // 5 second timeout
        baseDelay: 100,          // Quick initial retry
        backoffFactor: 1.5
      },



	retryParameters: {
   maxAttempts: 5,     // Maximum number of retry attempts before giving up completely
   
   timeout: 5000,     // Maximum time (in milliseconds) to wait for each attempt before considering it failed
   
   baseDelay: 100,    // Initial delay (in milliseconds) before first retry attempt
   
   backoffFactor: 1.5    // Multiplier that increases delay between consecutive retries
                       // Example: 1s → 2s → 4s between retries
},	
		
      // Faster manifest updates for live
      //updateInterval: 5          // Update manifest every 5 seconds // Not Working 
    
    },
	  // networking: {   // Not Working 
        //preserveBufferSizeOnSeek: true,  // Keep buffer when user seeks
		 
   // allowCrossSiteCredentials: true, // Enable cross-origin credentials
	//	   crossOriginCredentials: true
 
   // },
        
    });

    // Authorization Header (if needed)
    const networkingEngine = player.getNetworkingEngine();
    networkingEngine.clearAllRequestFilters();
    networkingEngine.registerRequestFilter((type, request) => {
        if (channelstreamInfo.authBearer) {
            request.headers['Authorization'] = `Bearer ${channelstreamInfo.authBearer}`;
        }
    });

    // Load the stream
    try {
        console.log(`Loading stream: ${channelstreamInfo.streamUrl}`);
		

        await player.load(channelstreamInfo.streamUrl);
        console.log('Stream loaded successfully.');
    } catch (error) {
        console.error("Error loading stream:", error);
    }
}


// Toggle Play/Pause
// Toggle Play/Pause
// Stream button functionality
const streamButton = document.querySelector('.stream-button');
const playIcon = streamButton.querySelector('.play-icon');
const pauseIcon = streamButton.querySelector('.pause-icon');

function toggleStream() {
    const shakaPlayPauseButton = document.querySelector('.shaka-play-button');
    shakaPlayPauseButton.click();
}

// Update play/pause icons when video state changes
video.addEventListener('play', () => {
    playIcon.style.display = 'none';  // Hide Play icon
    pauseIcon.style.display = '';  // Show Pause icon (restore default)
});

video.addEventListener('pause', () => {
    playIcon.style.display = '';  // Show Play icon (restore default)
    pauseIcon.style.display = 'none';  // Hide Pause icon
});


// Seek Backward
function seekBackward() {
    const video = document.getElementById('video');
    if (!video) return;
    
    video.currentTime = Math.max(0, video.currentTime - 5);
}

// Seek Forward
function seekForward() {
    const video = document.getElementById('video');
    if (!video) return;
    
    video.currentTime = Math.min(video.duration, video.currentTime + 5);
}
let reloadTimeout = null;

async function reloadStream() {
    console.log('Reload requested...');
    
    // Clear any pending reload
    if (reloadTimeout) {
        console.log('Canceling previous reload request');
        clearTimeout(reloadTimeout);
    }

    // Immediate cleanup
    if (player) {
        console.log('Cleaning up existing player...');
        if (ui) {
            await ui.destroy();
            ui = null;
        }
        await player.destroy();
        player = null;
    }

    // Debounced initialization
    reloadTimeout = setTimeout(async () => {
        console.log('Debounce timer complete, initializing new player...');
        await initializePlayer();
        console.log('Player reinitialized successfully');
        reloadTimeout = null;
    }, 500);
}

function endStream() {
    if (player) {
        player.unload().then(() => {
            console.log('Stream ended and unloaded');
        }).catch((error) => {
            console.error('Error ending stream:', error);
        });
    }
}


// Toggle Fullscreen for the Page 
function toggleFullScreen() {
    if (!document.documentElement) return; // Ensure we have access to documentElement
    
    if (!document.fullscreenElement) {
        if (document.documentElement.requestFullscreen) {
            document.documentElement.requestFullscreen();
        } else if (document.mozRequestFullScreen) { // Firefox
            document.mozRequestFullScreen();
        } else if (document.webkitRequestFullscreen) { // Chrome, Safari and Opera
            document.webkitRequestFullscreen();
        } else if (document.msRequestFullscreen) { // IE/Edge
            document.msRequestFullscreen();
        }
    } else {
        if (document.exitFullscreen) {
            document.exitFullscreen();
        } else if (document.mozCancelFullScreen) { // Firefox
            document.mozCancelFullScreen();
        } else if (document.webkitExitFullscreen) { // Chrome, Safari and Opera
            document.webkitExitFullscreen();
        } else if (document.msExitFullscreen) { // IE/Edge
            document.msExitFullscreen();
        }
    }
}

// Toggle Fullscreen for the Page - Landscape
function toggleFullScreenLandscape() { 
    if (!document.fullscreenElement) {
        // Request fullscreen first
        let elem = document.documentElement;
        if (elem.requestFullscreen) {
            elem.requestFullscreen().then(() => {
                lockOrientation();
            }).catch(err => console.warn('Fullscreen request failed:', err));
        } else if (elem.mozRequestFullScreen) { // Firefox
            elem.mozRequestFullScreen();
            lockOrientation();
        } else if (elem.webkitRequestFullscreen) { // Chrome, Safari and Opera
            elem.webkitRequestFullscreen();
            lockOrientation();
        } else if (elem.msRequestFullscreen) { // IE/Edge
            elem.msRequestFullscreen();
            lockOrientation();
        }
    } else {
        // Exit fullscreen
        if (document.exitFullscreen) {
            document.exitFullscreen();
        } else if (document.mozCancelFullScreen) { // Firefox
            document.mozCancelFullScreen();
        } else if (document.webkitExitFullscreen) { // Chrome, Safari and Opera
            document.webkitExitFullscreen();
        } else if (document.msExitFullscreen) { // IE/Edge
            document.msExitFullscreen();
        }
    }
}

function lockOrientation() {
    if (screen.orientation && screen.orientation.lock) {
        screen.orientation.lock('landscape').catch(error => {
            console.warn('Unable to lock screen orientation:', error);
        });
    } else {
        console.warn('Screen Orientation API not supported');
    }
}


// Toggle Fullscreen for the video



function toggleFullScreenVideo() {
    const shakaFullscreenButton = document.querySelector('.shaka-fullscreen-button');
    if (shakaFullscreenButton) {
        shakaFullscreenButton.click(); // Simulate click on Shaka's fullscreen button
    }
}



// Toggle Mute
// Mute button functionality
const muteButton = document.querySelector('.mute-button');
const muteIcon = muteButton.querySelector('.mute-icon');
const unmuteIcon = muteButton.querySelector('.unmute-icon');

function toggleMute() {
    video.muted = !video.muted;
}

// Update mute/unmute icon when volume changes
video.addEventListener('volumechange', () => {
    if (video.muted) {
        muteIcon.style.display = '';
        unmuteIcon.style.display = 'none';
    } else {
        muteIcon.style.display = 'none';
        unmuteIcon.style.display = '';
    }
});





// Toggle Picture-in-Picture
function togglePiP() {
    const video = document.getElementById('video');
    if (!video) return;
    
    if (document.pictureInPictureElement) {
        document.exitPictureInPicture();
    } else if (document.pictureInPictureEnabled) {
        video.requestPictureInPicture();
    }
}


function hideAddressBar() {
    if (document.documentElement.scrollHeight < window.outerHeight / window.devicePixelRatio)
        document.documentElement.style.height = (window.outerHeight / window.devicePixelRatio) + 'px';
    setTimeout(function() { window.scrollTo(1, 1); }, 0);
}

window.addEventListener("load", function() {
    if (!window.pageYOffset) {
        hideAddressBar();
    }
    window.addEventListener("orientationchange", hideAddressBar);
});

document.addEventListener('keydown', (event) => {
    const video = document.getElementById('video');

    if (!video) return; // Ensure video exists before proceeding

    switch (event.key) {
        case ' ': // Space bar for play/pause
            event.preventDefault(); // Prevent page scrolling
            toggleStream();
            break;
			
case 'ArrowUp': // Up arrow for volume increase
    event.preventDefault();
    video.volume = Math.min(video.volume + 0.1, 1); // Cap at 100%
    console.log(`Volume: ${(video.volume * 100).toFixed(0)}%`);
    break;

case 'ArrowDown': // Down arrow for volume decrease
    event.preventDefault();
    video.volume = Math.max(video.volume - 0.1, 0); // Minimum 0%
    console.log(`Volume: ${(video.volume * 100).toFixed(0)}%`);
    break;



       case 'ArrowLeft': // Left arrow for 5 seconds backward
    event.preventDefault();
    seekBackward();
    break;
case 'ArrowRight': // Right arrow for 5 seconds forward
    event.preventDefault();
    seekForward();
    break;

        case 'f': // 'f' key for fullscreen toggle
            toggleFullScreenLandscape();
            break;

        case 'm': // 'm' key for mute/unmute
            toggleMute();
            break;

        case 'p': // 'p' key for Picture-in-Picture
            togglePiP();
            break;

        default:
            break;
    }
});





// Initialize everything when DOM is ready
document.addEventListener('DOMContentLoaded', () => {
    initializePlayer().catch(error => {
        console.error('Error during player initialization:', error);
    });
});
     </script>
</body>
</html>
